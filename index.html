<!doctype html>
<html lang="pt-BR">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Complexo RJ — Tabela de Punições</title>
<link rel="icon" href="icon.gif" />
<style>
:root{
  --orange:#ffaa01;
  --bg:#000;
  --card:#0b0b0b;
  --muted:#cfcfcf;
  --neon-shadow: 0 0 28px rgba(255,170,1,0.12);
  font-family: Inter, "Segoe UI", Roboto, Arial, sans-serif;
}
*{box-sizing:border-box}
body{
  margin:0;
  min-height:100vh;
  background:
    radial-gradient(800px 200px at 10% 10%, rgba(255,170,1,0.03), transparent),
    linear-gradient(180deg,#050505 0%, #070707 100%);
  color:#fff;
  -webkit-font-smoothing:antialiased;
}

/* header/banner */
header{
  height:260px;
  background:url('back.gif') center/cover no-repeat;
  display:flex;align-items:end;padding:20px;border-bottom:3px solid var(--orange);
  box-shadow:var(--neon-shadow);
}
.header-inner{max-width:1150px;margin:0 auto;width:100%;display:flex;align-items:center;justify-content:space-between;gap:18px}
.brand{display:flex;align-items:center;gap:14px}
.logo{width:66px;height:66px;border-radius:12px;background:url('icon.gif') center/cover no-repeat;box-shadow:0 0 14px rgba(255,170,1,0.18)}
.brand h1{margin:0;font-size:26px;color:var(--orange);letter-spacing:.4px;text-shadow:0 0 8px rgba(255,170,1,0.08)}
.brand p{margin:0;font-size:13px;color:#d6d6d6}

/* main layout */
.wrap{max-width:1150px;margin:18px auto;padding:12px 20px}
.section{margin-bottom:36px;opacity:0;transform:translateY(28px);transition:0.7s cubic-bezier(.2,.9,.3,1)}
.section.show{opacity:1;transform:translateY(0)}
.title{font-size:28px;color:var(--orange);font-weight:800;margin-bottom:8px;text-shadow:0 0 8px rgba(255,170,1,0.06)}
.lead{color:#d4d4d4;line-height:1.6}

/* search */
.search-wrap{display:flex;justify-content:center;margin:6px 0 18px}
.search-box{width:100%;max-width:720px;background:#0f0f0f;border-radius:12px;padding:12px;border:1px solid rgba(255,255,255,0.02);box-shadow:inset 0 6px 18px rgba(0,0,0,0.6)}
.search-box input{width:100%;background:transparent;border:0;color:#fff;padding:6px;font-size:16px;outline:none}

/* table */
.table{margin-top:14px;border-collapse:collapse;width:100%;background:linear-gradient(180deg,#0c0c0c,#070707);border-radius:12px;overflow:hidden;box-shadow:0 10px 30px rgba(0,0,0,0.6)}
.table th{background:var(--orange);color:#000;padding:12px 14px;text-align:left;font-weight:800}
.table td{padding:12px 14px;border-bottom:1px solid rgba(255,255,255,0.03);color:#fff}
.category{margin-top:26px;font-size:20px;color:var(--orange);font-weight:800;margin-bottom:10px}
.tr-hover:hover td{background:#0f0f0f}

/* modal */
.modal-back{position:fixed;inset:0;background:rgba(0,0,0,0.7);backdrop-filter:blur(5px);display:none;align-items:center;justify-content:center;z-index:1500}
.modal{background:linear-gradient(180deg,#0b0b0b,#0a0a0a);border-radius:12px;padding:18px;max-width:1100px;width:96%;box-shadow:0 14px 40px rgba(0,0,0,0.7),0 0 28px rgba(255,170,1,0.08);color:#ddd}

/* responsive */
@media (max-width:720px){
  header{height:200px}
  .brand h1{font-size:18px}
  .modal{width:94%}
  .search-box{max-width:92%}
}
</style>
</head>
<body>

<header>
  <div class="header-inner">
    <div class="brand">
      <div class="logo"></div>
      <div>
        <h1>Complexo RJ — Tabela de Punições</h1>
        <p class="lead">Guia transparente de penalidades e regras aplicadas na comunidade</p>
      </div>
    </div>
  </div>
</header>

<main class="wrap">
  <section class="section">
    <div class="title">Tabela de Punições</div>
    <p class="lead">A Tabela de Punições do Complexo RJ foi criada com o objetivo de manter a ordem, disciplina e o bom funcionamento da nossa comunidade.</p>
  </section>

  <section class="section search-wrap">
    <div class="search-box">
      <input id="searchField" placeholder="Pesquisar infração, punição ou categoria..." />
    </div>
  </section>

  <section id="contentArea" class="section"></section>
</main>

<script>
/* --------------------------
   Reveal Animation Fix
--------------------------- */

let revealObserver = null;

function initReveal() {
  revealObserver = new IntersectionObserver((entries) => {
    entries.forEach(en => {
      if (en.isIntersecting) {
        en.target.classList.add("show");
      }
    });
  }, { threshold: 0.12 });

  observeSections();
}

function observeSections() {
  document.querySelectorAll(".section").forEach(sec => {
    revealObserver.observe(sec);
  });
}

window.addEventListener("DOMContentLoaded", () => {
  initReveal();
});

/* ------------------------------
   STORAGE E SISTEMA ORIGINAL
------------------------------- */

const STORAGE_KEY = 'punicoes';

const ORIGINAL_DATA = [
  {cat:"Prisão STAFF",inf:"ÁUDIO ESTOURADO NA PRAÇA",pun:"50 meses de prisão"},
  {cat:"Prisão STAFF",inf:"USO INDEVIDO DO CALL ADM",pun:"500 meses de prisão"},
  {cat:"Tickets",inf:"BAIT/COPBAIT",pun:"Advertência 1 + 500 meses de prisão"},
  {cat:"Tickets",inf:"ABUSO DE PODER",pun:"Advertência 1"},
  {cat:"Tickets",inf:"LOOT INDEVIDO",pun:"Advertência Verbal"},
  {cat:"Tickets",inf:"REGRAS DE AÇÕES E PISTA",pun:"Advertência verbal + 300 meses de prisão"},
  {cat:"Tickets",inf:"COMBAT LOGGING",pun:"Advertência + 2500 meses de prisão"},
  {cat:"Tickets",inf:"FLAMING",pun:"Advertência 1"},
  {cat:"Tickets",inf:"VDM",pun:"Advertência + 500 meses de prisão"},
  {cat:"Tickets",inf:"RDM",pun:"Advertência + 1000 meses de prisão"},
  {cat:"Tickets",inf:"ZARALHO / ANTI-RP",pun:"Advertência + 3000 meses de prisão"},
  {cat:"Tickets",inf:"CAIXA 2",pun:"Banimento"},
  {cat:"Tickets",inf:"POWER GAMING",pun:"Advertência Verbal"},
  {cat:"Tickets",inf:"META GAMING",pun:"Dupla advertência + 1000 meses de prisão"},
  {cat:"Tickets",inf:"QUEBRA DE IMERSÃO",pun:"100 meses de prisão"},
  {cat:"Tickets",inf:"LEMBRAR DE AÇÃO",pun:"100 meses de prisão"},
  {cat:"Tickets",inf:"MAL USO DO CHAT",pun:"50 meses ou Advertência Verbal"},
  {cat:"Tickets",inf:"REGRAS DE SAFE ZONE",pun:"Advertência Verbal + 100 meses"},
  {cat:"Tickets",inf:"ANTI AMOR À VIDA",pun:"Advertência Verbal"},
  {cat:"Tickets",inf:"ABUSO DE BUG",pun:"Advertência Verbal + 300 meses"},
  {cat:"Tickets",inf:"BIND EM AÇÃO",pun:"Advertência 1 + 1000 meses"},
  {cat:"Tickets",inf:"FAKE EMPREGO",pun:"100 meses ou Advertência Verbal"},
  {cat:"Tickets",inf:"FORÇAR AÇÃO",pun:"Advertência Verbal + 1000 meses"},
  {cat:"Banimento com UNBAN",inf:"Excesso de Advertências",pun:"Banimento com direito a UNBAN"},
  {cat:"Banimento com UNBAN",inf:"RDM/VDM em massa",pun:"Banimento com direito a UNBAN"},
  {cat:"Banimento com UNBAN",inf:"Anti RP",pun:"Banimento com direito a UNBAN"},
  {cat:"Banimento com UNBAN",inf:"Desvio de itens de baú",pun:"Banimento com direito a UNBAN"},
  {cat:"Banimento Permanente",inf:"DIVULGAÇÃO DE OUTROS SERVIDORES",pun:"Banimento Permanente"},
  {cat:"Banimento Permanente",inf:"DARK-RP",pun:"Banimento Permanente"},
  {cat:"Banimento Permanente",inf:"COMÉRCIO EXTERNO",pun:"Banimento Permanente"},
  {cat:"Banimento Permanente",inf:"CHEATS / SPOOFERS",pun:"Banimento Permanente"},
  {cat:"Banimento Permanente",inf:"CITIZENS COM VANTAGEM",pun:"Banimento Permanente"},
  {cat:"Banimento Permanente",inf:"ÓDIO OU XINGAR STAFF",pun:"Banimento Permanente"},
  {cat:"Banimento Permanente",inf:"ACOBERTAR CHEATERS",pun:"Banimento Permanente"},
  {cat:"Banimento Permanente",inf:"DIVULGAR NUDEZ",pun:"Banimento Permanente"},
  {cat:"Banimento Permanente",inf:"DISCRIMINAÇÃO EXTREMA",pun:"Banimento Permanente"}
];

(function ensureBase(){
  const raw = localStorage.getItem(STORAGE_KEY);
  if(!raw) localStorage.setItem(STORAGE_KEY, JSON.stringify(ORIGINAL_DATA));
})();

function loadData(){ return JSON.parse(localStorage.getItem(STORAGE_KEY) || '[]'); }

const contentArea = document.getElementById('contentArea');
const searchField = document.getElementById('searchField');

/* ---------------------------
    Public Render FIXED
---------------------------- */

function renderPublic(dataset){
  contentArea.innerHTML = '';
  const cats = [...new Set(dataset.map(x=>x.cat))];

  cats.forEach(cat=>{
    const sec = document.createElement('div');
    sec.className='section';

    const title = document.createElement('div');
    title.className='category';
    title.textContent=cat;
    sec.appendChild(title);

    const table = document.createElement('table');
    table.className='table';

    table.innerHTML = `
      <thead>
        <tr>
          <th>Infração</th>
          <th>Punição</th>
        </tr>
      </thead>
      <tbody></tbody>
    `;

    const tbody = table.querySelector('tbody');

    dataset.filter(x=>x.cat===cat).forEach(item=>{
      const tr = document.createElement('tr');
      tr.className='tr-hover';

      const tdInf = document.createElement('td');
      tdInf.textContent = item.inf;
      tdInf.style.color = '#fff';

      const tdPun = document.createElement('td');
      tdPun.textContent = item.pun;
      tdPun.style.color = '#fff';

      tr.appendChild(tdInf);
      tr.appendChild(tdPun);
      tbody.appendChild(tr);
    });

    sec.appendChild(table);
    contentArea.appendChild(sec);
  });

  observeSections();
}

renderPublic(loadData());

/* search */
searchField.addEventListener('input', e=>{
  const q = (e.target.value||'').trim().toLowerCase();
  if(!q){ renderPublic(loadData()); return; }

  const filtered = loadData().filter(x=>{
    return x.inf.toLowerCase().includes(q) ||
           x.pun.toLowerCase().includes(q) ||
           x.cat.toLowerCase().includes(q);
  });

  renderPublic(filtered);
});

</script>
</body>
</html>
